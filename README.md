# JobDetectorBot
–ö–∞—Ä–º–∞–Ω–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫ –≤ –ø–æ–∏—Å–∫–µ –≤–∞–∫–∞–Ω—Å–∏–∏ –º–µ—á—Ç—ã –æ—Ç –∫–æ–º–∞–Ω–¥—ã –ë–µ–∑—Ä–∞–±–æ—Ç–Ω—ã—Ö.NET –≤ —Å–æ—Å—Ç–∞–≤–µ:
 
@biktashevtimur
@marinesque


# ü§ñ Telegram Bot –¥–ª—è –ø–æ–∏—Å–∫–∞ –≤–∞–∫–∞–Ω—Å–∏–π

<div align="center">

[![.NET 8](https://img.shields.io/badge/.NET-8-512BD4?logo=dotnet)](https://dotnet.microsoft.com/)
[![Telegram Bot](https://img.shields.io/badge/Telegram-Bot-2CA5E0?logo=telegram)](https://core.telegram.org/bots)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-16-336791?logo=postgresql)](https://www.postgresql.org/)
[![Redis](https://img.shields.io/badge/Redis-7-DC382D?logo=redis)](https://redis.io/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)

</div>

## üìã –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

- [ ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏](#-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)
- [ üìÅ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ë–æ—Ç–∞](#-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-–±–æ—Ç–∞)
- [ üóÑÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö](#-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)
- [ üöÄ –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã](#Ô∏è-–Ω–∞—á–∞–ª–æ-—Ä–∞–±–æ—Ç—ã)
- [ ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è](#Ô∏è-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
- [ üóÑÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö](#Ô∏è-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–±–∞–∑—ã-–¥–∞–Ω–Ω—ã—Ö)
- [ üîÑ Workflow –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏](#Ô∏è-workflow-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏)
- [ üìù –õ–∏—Ü–µ–Ω–∑–∏—è](#-–ª–∏—Ü–µ–Ω–∑–∏—è)
- [ –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö –ø–æ –≤–∞–∫–∞–Ω—Å–∏—è–º](#-–∏—Å—Ç–æ—á–Ω–∏–∫–∏-–¥–∞–Ω–Ω—ã—Ö-–ø–æ-–≤–∞–∫–∞–Ω—Å–∏—è–º)


## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üéØ –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
- **–ü–æ—à–∞–≥–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤** - –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤–≤–æ–¥–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø–æ–∏—Å–∫–∞
- **–£–º–Ω—ã–π –ø–æ–∏—Å–∫ –≤–∞–∫–∞–Ω—Å–∏–π** - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ API –≤–∞–∫–∞–Ω—Å–∏–π
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤** - –±—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ –ø—Ä–µ–¥—ã–¥—É—â–∏–º –ø–æ–∏—Å–∫–∞–º
- **–ü–∞–≥–∏–Ω–∞—Ü–∏—è** - —É–¥–æ–±–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º

### üé® –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç
- **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã** - —É–¥–æ–±–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫–∏
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π** - –≤–≤–æ–¥ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤** - –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫
- **–°–æ—Å—Ç–æ—è–Ω–∏–µ –¥–∏–∞–ª–æ–≥–∞** - –∑–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏ –≤ —Ä–∞–∑–≥–æ–≤–æ—Ä–µ

### ‚ö° –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** - –≤—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Redis** - –±—ã—Å—Ç—Ä–æ–µ –≤—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏** - –ø—Ä–æ—Å—Ç–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ë–î
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –¥–µ—Ç–∞–ª—å–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–∞–±–æ—Ç—ã

### üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

| –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –í–µ—Ä—Å–∏—è |
|------------|------------|---------|
| **.NET** | –û—Å–Ω–æ–≤–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ | 8.0 |
| **Telegram.Bot** | –†–∞–±–æ—Ç–∞ —Å Telegram API | 19.0 |
| **Entity Framework** | ORM –¥–ª—è PostgreSQL | 8.0 |
| **PostgreSQL** | –û—Å–Ω–æ–≤–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö | 14+ |
| **Redis** | –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö | 6+ |
| **Docker** | –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è | 20+ |


## üìÅ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ë–æ—Ç–∞

<img width="3746" height="3840" alt="mermaidArchitecture" src="https://github.com/user-attachments/assets/3bf123a1-f3a1-478a-a64c-7590aaebabb3" />



## üóÑÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

<img width="686" height="447" alt="image" src="https://github.com/user-attachments/assets/7b30f7da-2191-452c-b50f-40cf83ef959d" />



## üîÑ Workflow –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

```mermaid
sequenceDiagram
    participant User
    participant Telegram as Telegram API
    participant MessageHandler
    participant UserStateManager
    participant Strategy as StateStrategy
    participant UserCache
    participant VacancyService
    participant Database as PostgreSQL
    participant Redis
    participant ExternalAPI as Vacancy Search API

    User->>Telegram: Send message
    Telegram->>MessageHandler: Handle message
    MessageHandler->>UserCache: Get user data
    UserCache->>Redis: Check cache
    alt Cache miss
        Redis-->>UserCache: Not found
        UserCache->>Database: Get user from DB
        Database-->>UserCache: User data
        UserCache->>Redis: Store in cache
    else Cache hit
        Redis-->>UserCache: User data
    end
    UserCache-->>MessageHandler: User data
    
    MessageHandler->>UserStateManager: Get current state
    UserStateManager-->>MessageHandler: Current state
    MessageHandler->>Strategy: Handle with strategy
    
    alt Searching vacancies
        Strategy->>VacancyService: Search vacancies
        VacancyService->>ExternalAPI: API request
        ExternalAPI-->>VacancyService: Vacancy results
        VacancyService->>Redis: Cache results
        VacancyService-->>Strategy: Vacancy data
    else Collecting criteria
        Strategy->>Database: Get criteria options
        Database-->>Strategy: Criteria data
    end
    
    Strategy-->>MessageHandler: Response data
    MessageHandler->>Telegram: Send response
    Telegram->>User: Bot response
```

## üöÄ –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã

üìã –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- .NET 8 SDK
- PostgreSQL 14+
- Redis 6+
- Docker (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### ‚ö° –õ–æ–∫–∞–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞
–ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```
git clone https://github.com/marinesque/JobDetectorBot.git
cd JobDetectorBot
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### üìÑ appsettings.json

```json
{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.Hosting.Lifetime": "Information"
    }
  },
  "Telegram": {
    "Token": "YOUR_BOT_TOKEN"
  },
  "ConnectionStrings": {
    "PostgreSQL": "Host=localhost;Database=botdb;Username=postgres;Password=password;Port=5432",
    "Redis": "localhost:6379"
  },
  "VacancySearchService": {
    "BaseUrl": "http://localhost:5018"
  },
  "RedisOptions": {
    "ClearOnStartup": false
  }
}
```

## –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö –ø–æ –≤–∞–∫–∞–Ω—Å–∏—è–º

- **HeadHunter API** - –í–∞–∫–∞–Ω—Å–∏–∏ –ø–æ–ª—É—á–µ–Ω—ã —Å —Å–∞–π—Ç–∞ hh.ru
  - API: https://api.hh.ru/
  - –°–æ–≥–ª–∞—à–µ–Ω–∏–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞: https://dev.hh.ru/admin/developer_agreement
  - **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –≤ —É—á–µ–±–Ω—ã—Ö —Ü–µ–ª—è—Ö
  - **–î–∞–Ω–Ω—ã–µ**: –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –Ω–µ–∏–∑–º–µ–Ω–Ω–æ–º –≤–∏–¥–µ
